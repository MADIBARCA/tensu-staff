import React, { createContext, useContext, useMemo, useState, useEffect } from 'react';

type Lang = 'ru' | 'kk';

type Dict = Record<string, string>;

const RU: Dict = {
  'nav.home': 'Главная',
  'nav.schedule': 'Расписание',
  'nav.groups': 'Мои группы',
  'nav.students': 'Мои студенты',
  'nav.profile': 'Профиль',
  'common.loading': 'Загрузка...',
  'common.error': 'Ошибка',
  'common.save': 'Сохранить',
  'common.cancel': 'Отмена',
  'common.delete': 'Удалить',
  'common.back': 'Назад',
  'common.close': 'Закрыть',
  'language.change': 'Сменить язык',
  'language.russian': 'Русский',
  'language.kazakh': 'Қазақша',
  'profile.edit': 'Редактировать',
  'profile.memberships': 'My Memberships',
  'profile.membership.history': 'История абонементов',
  'profile.attendance': 'История посещаемости',
  'profile.payments': 'История платежей',
  'profile.settings': 'Настройки',
  'membership.status.active': 'Активен',
  'membership.status.frozen': 'Заморожен',
  'membership.status.expired': 'Истёк',
  'membership.status.canceled': 'Отменён',
  'membership.pay': 'Оплатить',
  'membership.freeze': 'Заморозить',
  'membership.unfreeze': 'Разморозить',
  'payment.amount': 'Сумма к оплате',
  'payment.card.number': 'Номер карты',
  'payment.card.expiry': 'Срок действия',
  'payment.card.cvv': 'CVV',
  'payment.card.holder': 'Имя держателя карты',
  'payment.process': 'Оплатить',
  'payment.processing': 'Обработка...',
  'freeze.title': 'Заморозить абонемент',
  'freeze.unfreeze.title': 'Разморозить абонемент',
  'freeze.days.available': 'Доступно дней для заморозки',
  'freeze.max.days': 'Максимальный срок заморозки: 30 дней',
  'freeze.start.date': 'Дата начала заморозки',
  'freeze.end.date': 'Дата окончания заморозки',
  'freeze.days.selected': 'Выбрано дней',
  'freeze.process': 'Заморозить',
  'freeze.unfreeze.process': 'Разморозить',
  'attendance.no.visits': 'Посещений нет',
  'attendance.visits.month': 'Посещений за месяц',
  'attendance.missed.month': 'Пропусков за месяц',
  'attendance.average': 'Средняя посещаемость',
  'payments.no.payments': 'No payments yet',
  'payments.view.all': 'View All',
  'payments.status.paid': 'Оплачено',
  'payments.status.pending': 'В обработке',
  'payments.status.failed': 'Ошибка',
  'settings.notifications': 'Уведомления',
  'settings.notifications.desc': 'Оплата, окончание срока, изменения расписания',
  'settings.location': 'Геолокация',
  'settings.location.desc': 'Разрешение на использование геолокации',
  'settings.language': 'Язык',
  'settings.support': 'Поддержка',
  'settings.privacy': 'Политика конфиденциальности',
  'settings.terms': 'Условия предоставления услуг',
  'club.details': 'Детали клуба',
  'club.address': 'Адрес',
  'club.phone': 'Телефон',
  'club.sections': 'Секции и группы',
  'club.pricing': 'Прайсинг',
  'club.buy.membership': 'Приобрести абонемент',
  'no.memberships': 'У вас пока нет активных абонементов',
  'find.club': 'Найти клуб',
  'home.checkin.title': 'Slide to Check-In',
  'home.checkin.slide': 'Проведите для отметки посещения',
  'home.checkin.success': 'Посещение отмечено!',
  'home.sessions.title': 'Предстоящие тренировки',
  'home.sessions.empty': 'У вас пока нет предстоящих тренировок.',
  'home.sessions.today': 'Сегодня',
  'home.sessions.tomorrow': 'Завтра',
  'home.sessions.status.scheduled': 'Запланировано',
  'home.sessions.status.cancelled': 'Отменено',
  'home.sessions.status.booked': 'Booked',
  'home.sessions.status.full': 'Запись полная',
  'home.sessions.book': 'Записаться',
  'home.location.distance': 'Вы находитесь в {distance} от клуба.',
  'home.location.meters': 'м',
  'home.location.km': 'км',
  'home.noMembership.title': 'Приобретите абонемент',
  'home.noMembership.description': 'Для использования всех функций приложения необходимо приобрести абонемент в одном из клубов.',
  'home.noMembership.findClub': 'Найти клуб',
  // Role Summary
  'home.roleSummary.clubCount': '{count} клубов',
  'home.roleSummary.owner': 'Владелец ({count})',
  'home.roleSummary.admin': 'Администратор ({count})',
  'home.roleSummary.coach': 'Тренер ({count})',
  'home.roleSummary.multiRoleHint': 'У вас разные роли в разных клубах',
  'clubs.title': 'Клубы',
  'clubs.search.placeholder': 'Поиск по названию или тегам...',
  'clubs.filter.all': 'Все клубы',
  'clubs.filter.my': 'Мои клубы',
  'clubs.empty.all': 'Клубы не найдены',
  'clubs.empty.my': 'У вас нет активных абонементов в клубах',
  'clubs.empty.search': 'По вашему запросу ничего не найдено',
  'clubs.card.sections': 'секций',
  'clubs.card.member': 'Участник',
  'clubs.card.buy': 'Купить',
  'clubs.details.info': 'Информация о клубе',
  'clubs.details.address': 'Адрес',
  'clubs.details.hours': 'Часы работы',
  'clubs.details.phone': 'Телефон',
  'clubs.details.sections': 'Секции',
  'clubs.details.memberships': 'Абонементы',
  'clubs.details.purchase': 'Приобрести абонемент',
  'clubs.payment.title': 'Оплата абонемента',
  'clubs.payment.order': 'Ваш заказ',
  'clubs.payment.total': 'К оплате',
  'clubs.payment.customerName': 'ФИО',
  'clubs.payment.cardNumber': 'Номер карты',
  'clubs.payment.expiry': 'Дата (MM/YY)',
  'clubs.payment.cancel': 'Отменить',
  'clubs.payment.pay': 'Оплатить',
  'clubs.payment.processing': 'Обработка платежа...',
  'clubs.payment.errors.name': 'Введите ФИО',
  'clubs.payment.errors.card': 'Введите 16 цифр карты',
  'clubs.payment.errors.expiry': 'Введите корректную дату',
  'clubs.payment.errors.expiryPast': 'Карта просрочена',
  'clubs.payment.errors.cvv': 'Введите 3 цифры CVV',
  'clubs.payment.success.title': 'Оплата прошла успешно!',
  'clubs.payment.success.description': 'Абонемент активирован. Вы можете начать тренировки.',
  'clubs.payment.success.button': 'Вернуться на главную',
  'clubs.payment.success.redirect': 'Автоматический переход через 5 секунд...',
  'clubs.payment.error.title': 'Ошибка оплаты',
  'clubs.payment.error.description': 'Не удалось провести платёж. Попробуйте ещё раз или используйте другую карту.',
  'clubs.payment.error.retry': 'Попробовать снова',
  'common.retry': 'Повторить',
  'schedule.tabs.list': 'Список',
  'schedule.tabs.calendar': 'Календарь',
  'schedule.filters': 'Фильтры',
  'schedule.filters.club': 'Клуб',
  'schedule.filters.allClubs': 'Все клубы',
  'schedule.filters.sections': 'Секции',
  'schedule.filters.allSections': 'Все секции',
  'schedule.filters.mySections': 'Мои секции',
  'schedule.filters.coach': 'Тренер',
  'schedule.filters.allCoaches': 'Все тренеры',
  'schedule.filters.reset': 'Сбросить',
  'schedule.filters.apply': 'Применить',
  'schedule.noTrainings': 'Нет ближайших тренировок',
  'schedule.noTrainingsOnDate': 'Нет тренировок на эту дату',
  'schedule.error': 'Не удалось загрузить расписание. Попробуйте позже.',
  'schedule.today': 'Сегодня',
  'schedule.tomorrow': 'Завтра',
  'schedule.weekdays.mon': 'Пн',
  'schedule.weekdays.tue': 'Вт',
  'schedule.weekdays.wed': 'Ср',
  'schedule.weekdays.thu': 'Чт',
  'schedule.weekdays.fri': 'Пт',
  'schedule.weekdays.sat': 'Сб',
  'schedule.weekdays.sun': 'Вс',
  'schedule.months.jan': 'Январь',
  'schedule.months.feb': 'Февраль',
  'schedule.months.mar': 'Март',
  'schedule.months.apr': 'Апрель',
  'schedule.months.may': 'Май',
  'schedule.months.jun': 'Июнь',
  'schedule.months.jul': 'Июль',
  'schedule.months.aug': 'Август',
  'schedule.months.sep': 'Сентябрь',
  'schedule.months.oct': 'Октябрь',
  'schedule.months.nov': 'Ноябрь',
  'schedule.months.dec': 'Декабрь',
  'schedule.participants': 'участников',
  'schedule.spotsLeft': 'мест осталось',
  'schedule.booked': 'Вы записаны',
  'schedule.inWaitlist': 'В списке ожидания',
  'schedule.book': 'Записаться',
  'schedule.cancelBooking': 'Отменить запись',
  'schedule.cancelTooLate': 'Нельзя отменить запись менее чем за 1 час до тренировки',
  'schedule.notifyMe': 'Сообщить мне',
  'schedule.showParticipants': 'Показать',
  'schedule.noMembership.title': 'Нет активного абонемента',
  'schedule.noMembership.description': 'Для записи на тренировку необходимо приобрести абонемент.',
  'schedule.noMembership.buyButton': 'Приобрести абонемент',
  'schedule.participants.title': 'Участники тренировки',
  'schedule.participants.you': 'Вы',
  'schedule.participants.empty': 'Пока нет записавшихся',
  'schedule.participants.count': '{current} из {max} участников',
  // Training management
  'training.create.button': 'Добавить тренировку',
  'training.create.title': 'Создать тренировку',
  'training.create.new': 'Создать новую',
  'training.edit': 'Редактировать',
  'training.edit.title': 'Редактировать тренировку',
  'training.edit.save': 'Сохранить изменения',
  'training.details.title': 'Детали тренировки',
  'training.status.label': 'Статус',
  'training.status.scheduled': 'Запланировано',
  'training.status.in_progress': 'В процессе',
  'training.status.completed': 'Проведено',
  'training.status.cancelled': 'Отменено',
  'training.section': 'Секция',
  'training.group': 'Группа',
  'training.date': 'Дата',
  'training.today': 'Сегодня',
  'training.tomorrow': 'Завтра',
  'training.time': 'Время',
  'training.duration': 'Длительность',
  'training.duration.minutes': 'минут',
  'training.location': 'Место проведения',
  'training.location.placeholder': 'Например: Зал 1',
  'training.club': 'Клуб',
  'training.coach': 'Тренер',
  'training.noCoachesAvailable': 'Нет доступных тренеров',
  'training.participants': 'Участники',
  'training.maxParticipants': 'Максимальное количество участников',
  'training.notes': 'Примечания',
  'training.notes.placeholder': 'Дополнительная информация. Например: "Тренировка в кимоно"',
  'training.noSectionsAvailable': 'Нет доступных секций',
  'training.noGroupsInSection': 'В этой секции нет групп',
  'training.createGroupFirst': 'Сначала создайте группу в секции на странице "Управление"',
  'training.select.club': 'Выберите клуб',
  'training.select.section': 'Выберите секцию',
  'training.select.group': 'Выберите группу',
  'training.select.coach': 'Выберите тренера',
  'training.errors.clubRequired': 'Выберите клуб',
  'training.errors.sectionRequired': 'Выберите секцию',
  'training.errors.groupRequired': 'Выберите группу',
  'training.errors.coachRequired': 'Выберите тренера',
  'training.errors.dateRequired': 'Выберите дату',
  'training.errors.datePast': 'Нельзя выбрать прошедшую дату',
  'training.errors.timeRequired': 'Выберите время',
  'training.errors.timePast': 'Нельзя выбрать прошедшее время',
  'training.errors.timeTooSoon': 'Время должно быть не ранее чем через 1 час',
  'training.errors.locationRequired': 'Укажите место проведения',
  'training.errors.durationRequired': 'Укажите длительность',
  'training.errors.cannotCompleteFuture': 'Нельзя установить статус "Проведено" для будущей тренировки',
  'training.errors.createFailed': 'Не удалось создать тренировку. Попробуйте позже.',
  'training.created': 'Тренировка успешно создана',
  'training.noTrainingsOnDate': 'Нет тренировок на эту дату',
  'training.noTrainingsFound': 'Ничего не найдено',
  'training.cancel': 'Отменить тренировку',
  'training.series.dialog.title': 'Изменить серию тренировок',
  'training.series.dialog.message': 'Эта тренировка является частью серии. Что вы хотите изменить?',
  'training.series.dialog.single': 'Изменить только эту тренировку',
  'training.series.dialog.series': 'Изменить всю серию',
  'training.cancel.dialog.title': 'Отменить тренировку',
  'training.cancel.dialog.message': 'Эта тренировка является частью серии. Что вы хотите отменить?',
  'training.cancel.dialog.single': 'Отменить только эту тренировку',
  'training.cancel.dialog.series': 'Отменить всю серию',
  // Students
  'students.title': 'Мои студенты',
  'students.search.placeholder': 'Поиск по ФИО или телефону...',
  'students.filter.button': 'Фильтры',
  'students.filter.title': 'Фильтры',
  'students.filter.status': 'Статус абонемента',
  'students.filter.allStatuses': 'Все статусы',
  'students.filter.coaches': 'Тренеры',
  'students.filter.groups': 'Группы',
  'students.filter.reset': 'Сбросить',
  'students.filter.apply': 'Применить',
  'students.status.active': 'Активный',
  'students.status.frozen': 'Заморожен',
  'students.status.expired': 'Завершен',
  'students.status.new': 'Новый',
  'students.validUntil': 'Действует до',
  'students.call': 'Позвонить',
  'students.message': 'Написать',
  'students.empty': 'Студенты не найдены',
  'students.count': 'Найдено: {count}',
  'students.details.title': 'Карточка студента',
  'students.details.section': 'Секция',
  'students.details.group': 'Группа',
  'students.details.coach': 'Тренер',
  'students.details.tariff': 'Тариф',
  'students.details.period': 'Период действия',
  'students.details.freezeDays': 'Дней заморозки',
  'students.details.attendanceHistory': 'История посещений',
  'students.details.paymentHistory': 'История платежей',
  'students.details.noAttendance': 'Нет записей о посещениях',
  'students.details.noPayments': 'Нет записей о платежах',
  'students.attendance.present': 'Присутствовал',
  'students.attendance.late': 'Опоздал',
  'students.attendance.absent': 'Отсутствовал',
  'students.attendance.marked': 'Посещение отмечено',
  'students.payment.purchase': 'Покупка',
  'students.payment.renewal': 'Продление',
  'students.payment.freeze': 'Заморозка',
  'students.payment.refund': 'Возврат',
  'students.action.extend': 'Продлить абонемент',
  'students.action.freeze': 'Заморозить',
  'students.action.markAttendance': 'Отметить',
  'students.extend.title': 'Продление абонемента',
  'students.extend.studentName': 'Студент',
  'students.extend.currentEnd': 'Текущий срок окончания',
  'students.extend.selectTariff': 'Выберите тариф',
  'students.extend.newEnd': 'Новый срок окончания',
  'students.extend.confirm': 'Продлить',
  'students.extend.success': 'Абонемент успешно продлён',
  'students.freeze.title': 'Заморозка абонемента',
  'students.freeze.studentName': 'Студент',
  'students.freeze.availableDays': 'Доступно дней заморозки',
  'students.freeze.startDate': 'Дата начала',
  'students.freeze.days': 'Количество дней',
  'students.freeze.freezeEnd': 'Окончание заморозки',
  'students.freeze.newMembershipEnd': 'Новый срок абонемента',
  'students.freeze.maxDaysError': 'Максимум {days} дней',
  'students.freeze.confirm': 'Заморозить',
  'students.freeze.success': 'Абонемент заморожен',
  'students.freeze.error': 'Ошибка заморозки абонемента',
  'students.extend.error': 'Ошибка продления абонемента',
  'students.filter.clubs': 'Клубы',
  'students.filter.allClubs': 'Все клубы',
  'students.totalCount': 'Всего студентов: {count}',
  'students.emptyHint': 'Студенты появятся после записи на тренировки',
  // Profile page
  'profile.saved': 'Профиль сохранён',
  'profile.firstName': 'Имя',
  'profile.lastName': 'Фамилия',
  'profile.errors.nameRequired': 'Имя обязательно',
  'profile.role.owner': 'Владелец',
  'profile.role.admin': 'Администратор',
  'profile.role.coach': 'Тренер',
  'profile.myClubs': 'Мои клубы',
  'profile.createClub': 'Создать клуб',
  'profile.noClubs': 'У вас пока нет клубов',
  'profile.createFirstClub': 'Создать первый клуб',
  'profile.clubCreated': 'Клуб успешно создан',
  'profile.clubDeactivated': 'Клуб деактивирован',
  'profile.errors.deactivateFailed': 'Не удалось деактивировать клуб',
  'profile.limits.title': 'Лимит клубов достигнут',
  'profile.limits.message': 'Вы достигли максимального количества клубов. Для увеличения лимита свяжитесь с администрацией Tensu.',
  'profile.limits.currentClubs': 'Текущее количество',
  'profile.limits.maxClubs': 'Максимум',
  'profile.limits.remaining': 'Осталось',
  'profile.limits.contactSupport': 'Напишите нам в Telegram для увеличения лимита',
  'profile.club.status.active': 'Активен',
  'profile.club.status.frozen': 'Заморожен',
  'profile.club.status.pending': 'Ожидает оплаты',
  'profile.club.status.deactivated': 'Деактивирован',
  'profile.club.sections': 'секций',
  'profile.club.paymentDue': 'Оплата через {days} дней',
  'profile.club.paymentOverdue': 'Срок оплаты истёк',
  'profile.club.payNow': 'Оплатить',
  'profile.club.activationDate': 'Дата активации',
  'profile.club.tabs.analytics': 'Аналитика',
  'profile.club.tabs.membership': 'Подписка',
  'profile.club.totalStudents': 'Всего студентов',
  'profile.club.trainingsMonth': 'Тренировок за месяц',
  'profile.club.trainingsBreakdown': 'Статистика тренировок',
  'profile.club.conducted': 'Проведено',
  'profile.club.scheduled': 'Запланировано',
  'profile.club.cancelled': 'Отменено',
  'profile.club.tariff': 'Тариф',
  'profile.club.price': 'Стоимость',
  'profile.club.validUntil': 'Действует до',
  'profile.club.paymentMethod': 'Способ оплаты',
  'profile.club.membershipStatus': 'Статус',
  'profile.club.expiresIn': 'Истекает через {days} дней',
  'profile.club.paymentHistory': 'История платежей',
  'profile.club.noPayments': 'Нет платежей',
  'profile.club.deactivate': 'Деактивировать клуб',
  'profile.club.role.owner': 'Вы владелец',
  'profile.club.role.admin': 'Вы администратор',
  'profile.club.role.coach': 'Вы тренер',
  'profile.club.analyticsScope.club': 'Аналитика всего клуба',
  'profile.club.analyticsScope.clubHint': 'Вы видите данные по всем секциям клуба',
  'profile.club.analyticsScope.section': 'Аналитика вашей секции',
  'profile.club.analyticsScope.sectionHint': 'Показаны данные только по вашей секции',
  'profile.club.sectionStudents': 'Студентов в секции',
  'profile.club.myTrainingsMonth': 'Моих тренировок',
  'profile.club.myTrainingsBreakdown': 'Моя статистика тренировок',
  'profile.club.mySections': 'Мои секции',
  'profile.club.allSections': 'Все секции клуба',
  'profile.club.yourSection': 'Ваша',
  'profile.membership.active': 'Активен',
  'profile.membership.expiring': 'Истекает',
  'profile.membership.expired': 'Истёк',
  'profile.createClub.title': 'Создание клуба',
  'profile.createClub.name': 'Название клуба',
  'profile.createClub.namePlaceholder': 'Например: Фитнес клуб "Сила"',
  'profile.createClub.description': 'Описание',
  'profile.createClub.descriptionPlaceholder': 'Краткое описание клуба...',
  'profile.createClub.city': 'Город',
  'profile.createClub.address': 'Адрес',
  'profile.createClub.addressPlaceholder': 'ул. Абая, 150',
  'profile.createClub.phone': 'Телефон администрации',
  'profile.createClub.phonePlaceholder': 'Введите номер телефона',
  'profile.createClub.errors.phoneInvalid': 'Некорректный номер телефона',
  'profile.createClub.logoUrl': 'Ссылка на логотип',
  'profile.createClub.coverUrl': 'Ссылка на обложку',
  'profile.createClub.socialLinks': 'Социальные сети',
  'profile.createClub.tags': 'Теги для поиска',
  'profile.createClub.customTag': 'Добавить свой тег',
  'profile.createClub.membership': 'Тариф подписки',
  'profile.createClub.create': 'Создать',
  'profile.createClub.errors.nameRequired': 'Введите название клуба',
  'profile.createClub.errors.cityRequired': 'Выберите город',
  'profile.createClub.errors.addressRequired': 'Введите адрес',
  'profile.createClub.errors.phoneRequired': 'Введите телефон',
  'profile.payment.title': 'Оплата подписки',
  'profile.payment.club': 'Клуб',
  'profile.payment.currentTariff': 'Текущий тариф',
  'profile.payment.selectTariff': 'Выберите тариф',
  'profile.payment.days': 'дней',
  'profile.payment.total': 'К оплате',
  'profile.payment.pay': 'Оплатить',
  'profile.payment.processing': 'Обработка...',
  'profile.payment.success': 'Оплата успешна!',
  'profile.payment.successDesc': 'Подписка активирована. Статус клуба обновлён.',
  'profile.deactivate.title': 'Деактивация клуба',
  'profile.deactivate.message': 'Вы уверены, что хотите деактивировать клуб "{name}"?',
  'profile.deactivate.warning': 'Клуб будет скрыт из поиска. Все расписания будут удалены. Это действие можно отменить.',
  'profile.deactivate.confirmInstruction': 'Для подтверждения введите название клуба:',
  'profile.deactivate.inputPlaceholder': 'Введите название клуба',
  'profile.deactivate.nameMismatch': 'Название не совпадает',
  'profile.deactivate.nameMatch': 'Название совпадает',
  'profile.deactivate.confirm': 'Деактивировать',
  // Invitations
  'profile.invitations.title': 'Приглашения',
  'profile.invitations.roleInClub': 'Роль:',
  'profile.invitations.accept': 'Принять',
  'profile.invitations.decline': 'Отклонить',
  'profile.invitations.accepted': 'Приглашение принято',
  'profile.invitations.declined': 'Приглашение отклонено',
  'profile.invitations.error': 'Ошибка при обработке приглашения',
  'common.optional': 'необязательно',
  // Management page
  'nav.management': 'Управление',
  'management.tabs.employees': 'Сотрудники',
  'management.tabs.sections': 'Секции',
  'management.tabs.pricing': 'Прайсинг',
  // Employees
  'management.employees.searchPlaceholder': 'Поиск по ФИО или телефону',
  'management.employees.filters': 'Фильтры',
  'management.employees.addStaff': 'Добавить',
  'management.employees.count': 'сотрудников',
  'management.employees.notFound': 'Сотрудники не найдены',
  'management.employees.role': 'Роль',
  'management.employees.role.owner': 'Владелец',
  'management.employees.role.admin': 'Администратор',
  'management.employees.role.coach': 'Тренер',
  'management.employees.allRoles': 'Все роли',
  'management.employees.club': 'Клуб',
  'management.employees.clubs': 'Клубы',
  'management.employees.allClubs': 'Все клубы',
  'management.employees.status.active': 'Активен',
  'management.employees.status.pending': 'В ожидании',
  'management.employees.pendingInvitation': 'Ожидает принятия приглашения',
  'management.employees.status.deactivated': 'Деактивирован',
  'management.employees.status.declined': 'Отклонено',
  'management.employees.call': 'Позвонить',
  'management.employees.message': 'Написать',
  'management.employees.edit': 'Изменить',
  'management.employees.addTitle': 'Добавить персонал',
  'management.employees.editTitle': 'Редактирование',
  'management.employees.firstName': 'Имя',
  'management.employees.lastName': 'Фамилия',
  'management.employees.name': 'Имя',
  'management.employees.phone': 'Телефон',
  'management.employees.phonePlaceholder': 'Введите номер телефона',
  'management.employees.phoneReadOnly': 'Номер телефона не подлежит редактированию',
  'management.employees.add': 'Добавить',
  'management.employees.saveChanges': 'Сохранить изменения',
  'management.employees.added': 'Сотрудник добавлен',
  'management.employees.updated': 'Данные обновлены',
  'management.employees.deleteInvitation': 'Отменить приглашение',
  'management.employees.deleteInvitationConfirm': 'Вы уверены, что хотите отменить это приглашение?',
  'management.employees.invitationDeleted': 'Приглашение отменено',
  'management.employees.invitationDeleteError': 'Не удалось отменить приглашение',
  'management.employees.pendingInvitationInfo': 'Ожидает принятия',
  'management.employees.pendingInvitationHint': 'Пользователь ещё не принял приглашение',
  'management.employees.nameNotAvailable': 'Имя будет доступно после принятия приглашения',
  'management.employees.errors.firstNameRequired': 'Введите имя',
  'management.employees.errors.lastNameRequired': 'Введите фамилию',
  'management.employees.errors.phoneInvalid': 'Некорректный номер телефона',
  'management.employees.errors.phoneExists': 'Этот номер уже зарегистрирован',
  'management.employees.errors.clubRequired': 'Выберите хотя бы один клуб',
  'management.employees.noClubsAvailable': 'Нет доступных клубов',
  'management.employees.multiRoleHint': 'Разные роли в разных клубах',
  'management.employees.clubsAndRoles': 'Клубы и роли',
  'management.employees.clubsAndRolesHint': 'Выберите клубы и назначьте роль в каждом',
  'management.employees.roleInThisClub': 'Роль в этом клубе',
  'management.employees.ownerCannotChange': 'Роль владельца не может быть изменена',
  'management.employees.alreadyHasRole': '{name} уже является {role} в клубе {club}',
  'management.employees.thisPerson': 'Этот человек',
  'management.employees.errors.alreadyInClub': 'Человек уже имеет роль в выбранном клубе',
  'management.employees.errors.addFailed': 'Не удалось добавить сотрудника',
  'management.employees.roleLegend': 'Что означают иконки ролей?',
  'management.employees.roleIconsTitle': 'Роли сотрудников',
  'management.employees.roleDescription.owner': 'Полный доступ к клубу: управление секциями, сотрудниками и настройками',
  'management.employees.roleDescription.admin': 'Управление секциями и расписанием, добавление тренеров',
  'management.employees.roleDescription.coach': 'Проведение тренировок и работа с учениками',
  // Sections
  'management.sections.searchPlaceholder': 'Поиск по названию секции',
  'management.sections.filters': 'Фильтры',
  'management.sections.create': 'Создать',
  'management.sections.count': 'секций',
  'management.sections.notFound': 'Секции не найдены',
  'management.sections.coaches': 'Тренеры',
  'management.sections.coach': 'Тренер',
  'management.sections.groups': 'Группы',
  'management.sections.moreGroups': 'ещё',
  'management.sections.club': 'Клуб',
  'management.sections.allClubs': 'Все клубы',
  'management.sections.allCoaches': 'Все тренеры',
  'management.sections.createTitle': 'Создание секции',
  'management.sections.editTitle': 'Редактирование секции',
  'management.sections.name': 'Название секции',
  'management.sections.namePlaceholder': 'Например: Йога',
  'management.sections.selectClub': 'Выберите клуб',
  'management.sections.noCoaches': 'Нет тренеров в этом клубе',
  'management.sections.addGroup': 'Добавить группу',
  'management.sections.group': 'Группа',
  'management.sections.groupName': 'Название группы',
  'management.sections.level': 'Уровень',
  'management.sections.capacity': 'Вместимость',
  'management.sections.schedules': 'Расписание',
  'management.sections.addSchedule': 'Добавить расписание',
  'management.sections.singleTraining': 'Одна тренировка',
  'management.sections.recurringTraining': 'Повторяющиеся',
  'management.sections.duration': 'Длительность (мин)',
  'management.sections.endDate': 'Дата окончания',
  'management.sections.delete': 'Удалить секцию',
  'management.sections.deleteTitle': 'Удаление секции',
  'management.sections.deleteMessage': 'Вы уверены, что хотите удалить секцию "{name}"?',
  'management.sections.created': 'Секция создана',
  'management.sections.updated': 'Секция обновлена',
  'management.sections.deleted': 'Секция удалена',
  'management.sections.errors.nameRequired': 'Введите название секции',
  'management.sections.errors.clubRequired': 'Выберите клуб',
  'management.sections.errors.coachRequired': 'Выберите хотя бы одного тренера',
  'management.sections.sectionCreated': 'Секция создана',
  'management.sections.selectSelf': 'выбрать себя',
  'management.sections.noGroupsYet': 'Группы пока не добавлены',
  'management.sections.price': 'Цена (₸)',
  'management.sections.schedule': 'Расписание',
  'management.sections.addTime': 'Добавить время',
  'management.sections.noScheduleYet': 'Расписание не задано',
  'management.sections.createSection': 'Создать секцию',
  'management.sections.groupsCreated': 'Группы успешно созданы',
  'management.sections.groupNamePlaceholder': 'Название группы',
  'management.sections.selectLevel': 'Выберите уровень',
  'management.sections.selectTrainer': 'Выберите тренера',
  'management.sections.scheduleItem': 'Занятие',
  'management.sections.schedulePeriod': 'Период расписания',
  'management.sections.schedulePeriodHint': 'Укажите период, в течение которого будут отображаться занятия в календаре',
  'management.sections.validFrom': 'С даты',
  'management.sections.validUntil': 'По дату',
  'management.sections.groupsAndLessonsCreated': 'Группы и занятия успешно созданы',
  'management.sections.updatedWithLessons': 'Секция обновлена, занятия созданы',
  'management.sections.generatingLessons': 'Создаём занятия...',
  // Pricing
  'management.pricing.count': 'тарифов',
  'management.pricing.notFound': 'Тарифы не найдены',
  'management.pricing.create': 'Создать тариф',
  'management.pricing.createTitle': 'Создание тарифа',
  'management.pricing.editTitle': 'Редактирование тарифа',
  'management.pricing.name': 'Название тарифа',
  'management.pricing.namePlaceholder': 'Например: Базовый месяц',
  'management.pricing.club': 'Клуб',
  'management.pricing.selectClub': 'Выберите клуб',
  'management.pricing.section': 'Секция',
  'management.pricing.allSections': 'Все секции',
  'management.pricing.group': 'Группа',
  'management.pricing.allGroups': 'Все группы',
  'management.pricing.paymentType': 'Тип оплаты',
  'management.pricing.type.monthly': 'Месячный',
  'management.pricing.type.semi_annual': 'Полугодовой',
  'management.pricing.type.annual': 'Годовой',
  'management.pricing.type.per_session': 'За занятие',
  'management.pricing.sessionsCount': 'Кол-во занятий',
  'management.pricing.validityDays': 'Срок действия (дни)',
  'management.pricing.price': 'Стоимость',
  'management.pricing.sessions': 'занятий',
  'management.pricing.days': 'дней',
  'management.pricing.update': 'Изменить',
  'management.pricing.deleteTitle': 'Удаление тарифа',
  'management.pricing.deleteMessage': 'Вы уверены, что хотите удалить тариф "{name}"?',
  'management.pricing.created': 'Тариф создан',
  'management.pricing.updated': 'Тариф обновлён',
  'management.pricing.deleted': 'Тариф удалён',
  'management.pricing.errors.nameRequired': 'Введите название тарифа',
  'management.pricing.errors.clubRequired': 'Выберите клуб',
  'management.pricing.errors.priceRequired': 'Введите стоимость',
  'management.pricing.errors.sessionsRequired': 'Введите количество занятий',
  'management.pricing.errors.validityRequired': 'Введите срок действия',
  'management.pricing.errors.accessRequired': 'Выберите доступ (клуб, секцию или группу)',
  'management.pricing.errors.createFailed': 'Ошибка при создании тарифа',
  'management.pricing.errors.updateFailed': 'Ошибка при обновлении тарифа',
  'management.pricing.errors.deleteFailed': 'Ошибка при удалении тарифа',
  'management.pricing.type.session_pack': 'За занятия',
  'management.pricing.access': 'Доступ',
  'management.pricing.accessClubs': 'Клубы',
  'management.pricing.accessSections': 'Секции',
  'management.pricing.accessGroups': 'Группы',
  'management.pricing.notSelected': 'Не выбрано',
  'management.pricing.noSections': 'Нет секций',
  'management.pricing.active': 'Активен',
  'management.pricing.inactive': 'Неактивен',
  'management.pricing.createFirst': 'Создать первый тариф',
  'management.pricing.packageType.fullClub': 'Весь клуб',
  'management.pricing.packageType.fullSection': 'Вся секция',
  'management.pricing.packageType.singleGroup': 'Одна группа',
  'management.pricing.packageType.multipleGroups': 'Несколько групп',
  'management.pricing.clubsCount': 'клуб(а)',
  'management.pricing.sectionsCount': 'секция(и)',
  'management.pricing.groupsCount': 'группа(ы)',
};

const KK: Dict = {
  'nav.home': 'Басты бет',
  'nav.schedule': 'Кесте',
  'nav.groups': 'Менің топтарым',
  'nav.students': 'Менің студенттерім',
  'nav.profile': 'Профиль',
  'common.loading': 'Жүктелуде...',
  'common.error': 'Қате',
  'common.save': 'Сақтау',
  'common.cancel': 'Бас тарту',
  'common.delete': 'Жою',
  'common.back': 'Артқа',
  'common.close': 'Жабу',
  'language.change': 'Тілді өзгерту',
  'language.russian': 'Орысша',
  'language.kazakh': 'Қазақша',
  'profile.edit': 'Өңдеу',
  'profile.memberships': 'Менің абонементтерім',
  'profile.membership.history': 'Абонемент тарихы',
  'profile.attendance': 'Қатысу тарихы',
  'profile.payments': 'Төлем тарихы',
  'profile.settings': 'Баптаулар',
  'membership.status.active': 'Белсенді',
  'membership.status.frozen': 'Қатып қалған',
  'membership.status.expired': 'Мерзімі өткен',
  'membership.status.canceled': 'Күшін жойған',
  'membership.pay': 'Төлеу',
  'membership.freeze': 'Қатып қалдыру',
  'membership.unfreeze': 'Еріту',
  'payment.amount': 'Төлем сомасы',
  'payment.card.number': 'Карта нөмірі',
  'payment.card.expiry': 'Мерзімі',
  'payment.card.cvv': 'CVV',
  'payment.card.holder': 'Карта иесінің аты',
  'payment.process': 'Төлеу',
  'payment.processing': 'Өңделуде...',
  'freeze.title': 'Абонементті қатып қалдыру',
  'freeze.unfreeze.title': 'Абонементті еріту',
  'freeze.days.available': 'Қатып қалдыруға қолжетімді күндер',
  'freeze.max.days': 'Максималды мерзім: 30 күн',
  'freeze.start.date': 'Қатып қалдыру басталу күні',
  'freeze.end.date': 'Қатып қалдыру аяқталу күні',
  'freeze.days.selected': 'Таңдалған күндер',
  'freeze.process': 'Қатып қалдыру',
  'freeze.unfreeze.process': 'Еріту',
  'attendance.no.visits': 'Барулар жоқ',
  'attendance.visits.month': 'Айына барулар',
  'attendance.missed.month': 'Айына жіберілгендер',
  'attendance.average': 'Орташа қатысу',
  'payments.no.payments': 'Төлемдер жоқ',
  'payments.view.all': 'Барлығын көру',
  'payments.status.paid': 'Төленген',
  'payments.status.pending': 'Өңделуде',
  'payments.status.failed': 'Қате',
  'settings.notifications': 'Хабарландырулар',
  'settings.notifications.desc': 'Төлем, мерзім аяқталуы, кесте өзгерістері',
  'settings.location': 'Геолокация',
  'settings.location.desc': 'Геолокацияны пайдалануға рұқсат',
  'settings.language': 'Тіл',
  'settings.support': 'Қолдау',
  'settings.privacy': 'Құпиялылық саясаты',
  'settings.terms': 'Қызмет көрсету шарттары',
  'club.details': 'Клуб детальдары',
  'club.address': 'Мекен-жайы',
  'club.phone': 'Телефон',
  'club.sections': 'Бөлімдер мен топтар',
  'club.pricing': 'Баға белгілеу',
  'club.buy.membership': 'Абонемент сатып алу',
  'no.memberships': 'Сізде әлі белсенді абонементтер жоқ',
  'find.club': 'Клуб табу',
  'home.checkin.title': 'Check-In үшін сырғытыңыз',
  'home.checkin.slide': 'Қатысу үшін сырғытыңыз',
  'home.checkin.success': 'Қатысу белгіленді!',
  'home.sessions.title': 'Алдағы жаттығулар',
  'home.sessions.empty': 'Сізде әлі алдағы жаттығулар жоқ.',
  'home.sessions.today': 'Бүгін',
  'home.sessions.tomorrow': 'Ертең',
  'home.sessions.status.scheduled': 'Жоспарланған',
  'home.sessions.status.cancelled': 'Күшін жойған',
  'home.sessions.status.booked': 'Booked',
  'home.sessions.status.full': 'Жазылу толық',
  'home.sessions.book': 'Жазылу',
  'home.location.distance': 'Сіз клубтан {distance} қашықтықтасыз.',
  'home.location.meters': 'м',
  'home.location.km': 'км',
  'home.noMembership.title': 'Абонемент сатып алыңыз',
  'home.noMembership.description': 'Қолданбаның барлық функцияларын пайдалану үшін клубтардың бірінде абонемент сатып алу қажет.',
  'home.noMembership.findClub': 'Клуб табу',
  // Role Summary
  'home.roleSummary.clubCount': '{count} клуб',
  'home.roleSummary.owner': 'Иесі ({count})',
  'home.roleSummary.admin': 'Әкімші ({count})',
  'home.roleSummary.coach': 'Жаттықтырушы ({count})',
  'home.roleSummary.multiRoleHint': 'Сіздің әртүрлі клубтарда әртүрлі рөлдеріңіз бар',
  'clubs.title': 'Клубтар',
  'clubs.search.placeholder': 'Атау немесе тегтер бойынша іздеу...',
  'clubs.filter.all': 'Барлық клубтар',
  'clubs.filter.my': 'Менің клубтарым',
  'clubs.empty.all': 'Клубтар табылмады',
  'clubs.empty.my': 'Сізде клубтарда белсенді абонементтер жоқ',
  'clubs.empty.search': 'Сіздің сұрауыңыз бойынша ештеңе табылмады',
  'clubs.card.sections': 'бөлім',
  'clubs.card.member': 'Қатысушы',
  'clubs.card.buy': 'Сатып алу',
  'clubs.details.info': 'Клуб туралы ақпарат',
  'clubs.details.address': 'Мекенжай',
  'clubs.details.hours': 'Жұмыс уақыты',
  'clubs.details.phone': 'Телефон',
  'clubs.details.sections': 'Бөлімдер',
  'clubs.details.memberships': 'Абонементтер',
  'clubs.details.purchase': 'Абонемент сатып алу',
  'clubs.payment.title': 'Абонементті төлеу',
  'clubs.payment.order': 'Сіздің тапсырысыңыз',
  'clubs.payment.total': 'Төлем',
  'clubs.payment.customerName': 'Аты-жөні',
  'clubs.payment.cardNumber': 'Карта нөмірі',
  'clubs.payment.expiry': 'Күні (MM/YY)',
  'clubs.payment.cancel': 'Бас тарту',
  'clubs.payment.pay': 'Төлеу',
  'clubs.payment.processing': 'Төлем өңделуде...',
  'clubs.payment.errors.name': 'Аты-жөніңізді енгізіңіз',
  'clubs.payment.errors.card': 'Картаның 16 санын енгізіңіз',
  'clubs.payment.errors.expiry': 'Дұрыс күнді енгізіңіз',
  'clubs.payment.errors.expiryPast': 'Карта мерзімі өткен',
  'clubs.payment.errors.cvv': 'CVV 3 санын енгізіңіз',
  'clubs.payment.success.title': 'Төлем сәтті өтті!',
  'clubs.payment.success.description': 'Абонемент белсендірілді. Сіз жаттығуларды бастай аласыз.',
  'clubs.payment.success.button': 'Басты бетке оралу',
  'clubs.payment.success.redirect': '5 секундтан кейін автоматты түрде өту...',
  'clubs.payment.error.title': 'Төлем қатесі',
  'clubs.payment.error.description': 'Төлемді жүргізу мүмкін болмады. Қайтадан көріңіз немесе басқа картаны пайдаланыңыз.',
  'clubs.payment.error.retry': 'Қайтадан көру',
  'common.retry': 'Қайталау',
  'schedule.tabs.list': 'Тізім',
  'schedule.tabs.calendar': 'Күнтізбе',
  'schedule.filters': 'Сүзгілер',
  'schedule.filters.club': 'Клуб',
  'schedule.filters.allClubs': 'Барлық клубтар',
  'schedule.filters.sections': 'Бөлімдер',
  'schedule.filters.allSections': 'Барлық бөлімдер',
  'schedule.filters.mySections': 'Менің бөлімдерім',
  'schedule.filters.coach': 'Жаттықтырушы',
  'schedule.filters.allCoaches': 'Барлық жаттықтырушылар',
  'schedule.filters.reset': 'Қалпына келтіру',
  'schedule.filters.apply': 'Қолдану',
  'schedule.noTrainings': 'Жақын жаттығулар жоқ',
  'schedule.noTrainingsOnDate': 'Бұл күнге жаттығулар жоқ',
  'schedule.error': 'Кестені жүктеу мүмкін болмады. Кейінірек көріңіз.',
  'schedule.today': 'Бүгін',
  'schedule.tomorrow': 'Ертең',
  'schedule.weekdays.mon': 'Дс',
  'schedule.weekdays.tue': 'Сс',
  'schedule.weekdays.wed': 'Ср',
  'schedule.weekdays.thu': 'Бс',
  'schedule.weekdays.fri': 'Жм',
  'schedule.weekdays.sat': 'Сн',
  'schedule.weekdays.sun': 'Жс',
  'schedule.months.jan': 'Қаңтар',
  'schedule.months.feb': 'Ақпан',
  'schedule.months.mar': 'Наурыз',
  'schedule.months.apr': 'Сәуір',
  'schedule.months.may': 'Мамыр',
  'schedule.months.jun': 'Маусым',
  'schedule.months.jul': 'Шілде',
  'schedule.months.aug': 'Тамыз',
  'schedule.months.sep': 'Қыркүйек',
  'schedule.months.oct': 'Қазан',
  'schedule.months.nov': 'Қараша',
  'schedule.months.dec': 'Желтоқсан',
  'schedule.participants': 'қатысушы',
  'schedule.spotsLeft': 'орын қалды',
  'schedule.booked': 'Сіз жазылдыңыз',
  'schedule.inWaitlist': 'Күту тізімінде',
  'schedule.book': 'Жазылу',
  'schedule.cancelBooking': 'Жазылуды болдырмау',
  'schedule.cancelTooLate': 'Жаттығуға 1 сағаттан аз уақыт қалғанда жазылуды болдырмауға болмайды',
  'schedule.notifyMe': 'Маған хабарлаңыз',
  'schedule.showParticipants': 'Көрсету',
  'schedule.noMembership.title': 'Белсенді абонемент жоқ',
  'schedule.noMembership.description': 'Жаттығуға жазылу үшін абонемент сатып алу қажет.',
  'schedule.noMembership.buyButton': 'Абонемент сатып алу',
  'schedule.participants.title': 'Жаттығу қатысушылары',
  'schedule.participants.you': 'Сіз',
  'schedule.participants.empty': 'Әзірге жазылғандар жоқ',
  'schedule.participants.count': '{max} қатысушының {current}',
  // Training management
  'training.create.button': 'Жаттығу қосу',
  'training.create.title': 'Жаттығу құру',
  'training.create.new': 'Жаңа құру',
  'training.edit': 'Өңдеу',
  'training.edit.title': 'Жаттығу өңдеу',
  'training.edit.save': 'Өзгерістерді сақтау',
  'training.details.title': 'Жаттығу детальдары',
  'training.status.label': 'Статус',
  'training.status.scheduled': 'Жоспарланған',
  'training.status.in_progress': 'Жүргізілуде',
  'training.status.completed': 'Өткізілген',
  'training.status.cancelled': 'Күшін жойған',
  'training.section': 'Бөлім',
  'training.group': 'Топ',
  'training.date': 'Күні',
  'training.today': 'Бүгін',
  'training.tomorrow': 'Ертең',
  'training.time': 'Уақыты',
  'training.duration': 'Ұзақтығы',
  'training.duration.minutes': 'минут',
  'training.location': 'Өткізу орны',
  'training.location.placeholder': 'Мысалы: Зал 1',
  'training.club': 'Клуб',
  'training.coach': 'Жаттықтырушы',
  'training.noCoachesAvailable': 'Жаттықтырушылар табылмады',
  'training.participants': 'Қатысушылар',
  'training.maxParticipants': 'Қатысушылардың максималды саны',
  'training.noSectionsAvailable': 'Бөлімдер табылмады',
  'training.noGroupsInSection': 'Бұл бөлімде топтар жоқ',
  'training.createGroupFirst': 'Алдымен "Басқару" бетінде бөлім үшін топ құрыңыз',
  'training.notes': 'Ескертпелер',
  'training.notes.placeholder': 'Қосымша ақпарат. Мысалы: "Кимономен жаттығу"',
  'training.select.club': 'Клубты таңдаңыз',
  'training.select.section': 'Бөлімді таңдаңыз',
  'training.select.group': 'Топты таңдаңыз',
  'training.select.coach': 'Жаттықтырушыны таңдаңыз',
  'training.errors.clubRequired': 'Клубты таңдаңыз',
  'training.errors.sectionRequired': 'Бөлімді таңдаңыз',
  'training.errors.coachRequired': 'Жаттықтырушыны таңдаңыз',
  'training.errors.dateRequired': 'Күнді таңдаңыз',
  'training.errors.datePast': 'Өткен күнді таңдауға болмайды',
  'training.errors.timeRequired': 'Уақытты таңдаңыз',
  'training.errors.timePast': 'Өткен уақытты таңдауға болмайды',
  'training.errors.timeTooSoon': 'Уақыт қазіргі уақыттан кемінде 1 сағаттан кейін болуы керек',
  'training.errors.locationRequired': 'Өткізу орнын көрсетіңіз',
  'training.errors.durationRequired': 'Ұзақтықты көрсетіңіз',
  'training.errors.cannotCompleteFuture': 'Болашақ жаттығуға "Өткізілген" статусын орнатуға болмайды',
  'training.errors.createFailed': 'Жаттығуды құру мүмкін болмады. Кейінірек көріңіз.',
  'training.created': 'Жаттығу сәтті құрылды',
  'training.noTrainingsOnDate': 'Бұл күнге жаттығулар жоқ',
  'training.noTrainingsFound': 'Ештеңе табылмады',
  'training.cancel': 'Жаттығуды болдырмау',
  'training.series.dialog.title': 'Жаттығулар сериясын өзгерту',
  'training.series.dialog.message': 'Бұл жаттығу серияның бір бөлігі. Не өзгерткіңіз келеді?',
  'training.series.dialog.single': 'Тек осы жаттығуны өзгерту',
  'training.series.dialog.series': 'Бүкіл серияны өзгерту',
  'training.cancel.dialog.title': 'Жаттығуды болдырмау',
  'training.cancel.dialog.message': 'Бұл жаттығу серияның бір бөлігі. Не болдырмақшысыз?',
  'training.cancel.dialog.single': 'Тек осы жаттығуны болдырмау',
  'training.cancel.dialog.series': 'Бүкіл серияны болдырмау',
  // Students
  'students.title': 'Менің студенттерім',
  'students.search.placeholder': 'Аты-жөні немесе телефон бойынша іздеу...',
  'students.filter.button': 'Сүзгілер',
  'students.filter.title': 'Сүзгілер',
  'students.filter.status': 'Абонемент статусы',
  'students.filter.allStatuses': 'Барлық статустар',
  'students.filter.coaches': 'Жаттықтырушылар',
  'students.filter.groups': 'Топтар',
  'students.filter.reset': 'Қалпына келтіру',
  'students.filter.apply': 'Қолдану',
  'students.status.active': 'Белсенді',
  'students.status.frozen': 'Қатып қалған',
  'students.status.expired': 'Аяқталған',
  'students.status.new': 'Жаңа',
  'students.validUntil': 'Дейін жарамды',
  'students.call': 'Қоңырау шалу',
  'students.message': 'Жазу',
  'students.empty': 'Студенттер табылмады',
  'students.count': 'Табылды: {count}',
  'students.details.title': 'Студент картасы',
  'students.details.section': 'Бөлім',
  'students.details.group': 'Топ',
  'students.details.coach': 'Жаттықтырушы',
  'students.details.tariff': 'Тариф',
  'students.details.period': 'Әрекет ету мерзімі',
  'students.details.freezeDays': 'Қату күндері',
  'students.details.attendanceHistory': 'Қатысу тарихы',
  'students.details.paymentHistory': 'Төлем тарихы',
  'students.details.noAttendance': 'Қатысу жазбалары жоқ',
  'students.details.noPayments': 'Төлем жазбалары жоқ',
  'students.attendance.present': 'Қатысты',
  'students.attendance.late': 'Кешікті',
  'students.attendance.absent': 'Қатыспады',
  'students.attendance.marked': 'Қатысу белгіленді',
  'students.payment.purchase': 'Сатып алу',
  'students.payment.renewal': 'Ұзарту',
  'students.payment.freeze': 'Қату',
  'students.payment.refund': 'Қайтару',
  'students.action.extend': 'Абонементті ұзарту',
  'students.action.freeze': 'Қатыру',
  'students.action.markAttendance': 'Белгілеу',
  'students.extend.title': 'Абонементті ұзарту',
  'students.extend.studentName': 'Студент',
  'students.extend.currentEnd': 'Ағымдағы аяқталу мерзімі',
  'students.extend.selectTariff': 'Тарифті таңдаңыз',
  'students.extend.newEnd': 'Жаңа аяқталу мерзімі',
  'students.extend.confirm': 'Ұзарту',
  'students.extend.success': 'Абонемент сәтті ұзартылды',
  'students.freeze.title': 'Абонементті қатыру',
  'students.freeze.studentName': 'Студент',
  'students.freeze.availableDays': 'Қолжетімді қату күндері',
  'students.freeze.startDate': 'Басталу күні',
  'students.freeze.days': 'Күндер саны',
  'students.freeze.freezeEnd': 'Қатудың аяқталуы',
  'students.freeze.newMembershipEnd': 'Абонементтің жаңа мерзімі',
  'students.freeze.maxDaysError': 'Максимум {days} күн',
  'students.freeze.confirm': 'Қатыру',
  'students.freeze.success': 'Абонемент қатырылды',
  'students.freeze.error': 'Абонементті қатыру қатесі',
  'students.extend.error': 'Абонементті ұзарту қатесі',
  'students.filter.clubs': 'Клубтар',
  'students.filter.allClubs': 'Барлық клубтар',
  'students.totalCount': 'Барлық студенттер: {count}',
  'students.emptyHint': 'Студенттер жаттығуларға жазылғаннан кейін пайда болады',
  // Profile page
  'profile.saved': 'Профиль сақталды',
  'profile.firstName': 'Аты',
  'profile.lastName': 'Тегі',
  'profile.errors.nameRequired': 'Аты міндетті',
  'profile.role.owner': 'Иесі',
  'profile.role.admin': 'Әкімші',
  'profile.role.coach': 'Жаттықтырушы',
  'profile.myClubs': 'Менің клубтарым',
  'profile.createClub': 'Клуб құру',
  'profile.noClubs': 'Сізде әлі клубтар жоқ',
  'profile.createFirstClub': 'Бірінші клубты құру',
  'profile.clubCreated': 'Клуб сәтті құрылды',
  'profile.clubDeactivated': 'Клуб деактивацияланды',
  'profile.errors.deactivateFailed': 'Клубты деактивациялау мүмкін болмады',
  'profile.limits.title': 'Клубтар лимитіне жеттіңіз',
  'profile.limits.message': 'Сіз клубтардың максималды санына жеттіңіз. Лимитті арттыру үшін Tensu әкімшілігіне хабарласыңыз.',
  'profile.limits.currentClubs': 'Қазіргі саны',
  'profile.limits.maxClubs': 'Максимум',
  'profile.limits.remaining': 'Қалды',
  'profile.limits.contactSupport': 'Лимитті арттыру үшін Telegram-да жазыңыз',
  'profile.club.status.active': 'Белсенді',
  'profile.club.status.frozen': 'Қатырылған',
  'profile.club.status.pending': 'Төлемді күтуде',
  'profile.club.status.deactivated': 'Деактивацияланған',
  'profile.club.sections': 'бөлім',
  'profile.club.paymentDue': '{days} күннен кейін төлем',
  'profile.club.paymentOverdue': 'Төлем мерзімі өтті',
  'profile.club.payNow': 'Төлеу',
  'profile.club.activationDate': 'Белсендіру күні',
  'profile.club.tabs.analytics': 'Аналитика',
  'profile.club.tabs.membership': 'Жазылым',
  'profile.club.totalStudents': 'Барлық студенттер',
  'profile.club.trainingsMonth': 'Айдағы жаттығулар',
  'profile.club.trainingsBreakdown': 'Жаттығу статистикасы',
  'profile.club.conducted': 'Өткізілген',
  'profile.club.scheduled': 'Жоспарланған',
  'profile.club.cancelled': 'Күшін жойған',
  'profile.club.tariff': 'Тариф',
  'profile.club.price': 'Бағасы',
  'profile.club.validUntil': 'Дейін жарамды',
  'profile.club.paymentMethod': 'Төлем әдісі',
  'profile.club.membershipStatus': 'Статус',
  'profile.club.expiresIn': '{days} күннен кейін аяқталады',
  'profile.club.paymentHistory': 'Төлем тарихы',
  'profile.club.noPayments': 'Төлемдер жоқ',
  'profile.club.deactivate': 'Клубты деактивациялау',
  'profile.club.role.owner': 'Сіз иесісіз',
  'profile.club.role.admin': 'Сіз әкімшісіз',
  'profile.club.role.coach': 'Сіз жаттықтырушысыз',
  'profile.club.analyticsScope.club': 'Бүкіл клуб аналитикасы',
  'profile.club.analyticsScope.clubHint': 'Сіз клубтың барлық бөлімдері бойынша деректерді көресіз',
  'profile.club.analyticsScope.section': 'Сіздің бөлім аналитикасы',
  'profile.club.analyticsScope.sectionHint': 'Тек сіздің бөлім бойынша деректер көрсетілген',
  'profile.club.sectionStudents': 'Бөлімдегі студенттер',
  'profile.club.myTrainingsMonth': 'Менің жаттығуларым',
  'profile.club.myTrainingsBreakdown': 'Менің жаттығу статистикам',
  'profile.club.mySections': 'Менің бөлімдерім',
  'profile.club.allSections': 'Клубтың барлық бөлімдері',
  'profile.club.yourSection': 'Сіздікі',
  'profile.membership.active': 'Белсенді',
  'profile.membership.expiring': 'Аяқталуда',
  'profile.membership.expired': 'Мерзімі өтті',
  'profile.createClub.title': 'Клуб құру',
  'profile.createClub.name': 'Клуб атауы',
  'profile.createClub.namePlaceholder': 'Мысалы: "Күш" фитнес клубы',
  'profile.createClub.description': 'Сипаттамасы',
  'profile.createClub.descriptionPlaceholder': 'Клубтың қысқаша сипаттамасы...',
  'profile.createClub.city': 'Қала',
  'profile.createClub.address': 'Мекенжайы',
  'profile.createClub.addressPlaceholder': 'Абай к., 150',
  'profile.createClub.phone': 'Әкімшілік телефоны',
  'profile.createClub.phonePlaceholder': 'Телефон нөмірін енгізіңіз',
  'profile.createClub.errors.phoneInvalid': 'Қате телефон нөмірі',
  'profile.createClub.logoUrl': 'Логотипке сілтеме',
  'profile.createClub.coverUrl': 'Мұқабаға сілтеме',
  'profile.createClub.socialLinks': 'Әлеуметтік желілер',
  'profile.createClub.tags': 'Іздеу үшін тегтер',
  'profile.createClub.customTag': 'Өз тегіңізді қосу',
  'profile.createClub.membership': 'Жазылым тарифі',
  'profile.createClub.create': 'Құру',
  'profile.createClub.errors.nameRequired': 'Клуб атауын енгізіңіз',
  'profile.createClub.errors.cityRequired': 'Қаланы таңдаңыз',
  'profile.createClub.errors.addressRequired': 'Мекенжайды енгізіңіз',
  'profile.createClub.errors.phoneRequired': 'Телефонды енгізіңіз',
  'profile.payment.title': 'Жазылым төлемі',
  'profile.payment.club': 'Клуб',
  'profile.payment.currentTariff': 'Ағымдағы тариф',
  'profile.payment.selectTariff': 'Тарифті таңдаңыз',
  'profile.payment.days': 'күн',
  'profile.payment.total': 'Төлем',
  'profile.payment.pay': 'Төлеу',
  'profile.payment.processing': 'Өңдеу...',
  'profile.payment.success': 'Төлем сәтті!',
  'profile.payment.successDesc': 'Жазылым белсендірілді. Клуб статусы жаңартылды.',
  'profile.deactivate.title': 'Клубты деактивациялау',
  'profile.deactivate.message': '"{name}" клубын деактивациялауды қалайсыз ба?',
  'profile.deactivate.warning': 'Клуб іздеуден жасырылады. Барлық кестелер жойылады. Бұл әрекетті болдырмауға болады.',
  'profile.deactivate.confirmInstruction': 'Растау үшін клуб атауын енгізіңіз:',
  'profile.deactivate.inputPlaceholder': 'Клуб атауын енгізіңіз',
  'profile.deactivate.nameMismatch': 'Атау сәйкес келмейді',
  'profile.deactivate.nameMatch': 'Атау сәйкес келеді',
  'profile.deactivate.confirm': 'Деактивациялау',
  // Invitations
  'profile.invitations.title': 'Шақырулар',
  'profile.invitations.roleInClub': 'Рөлі:',
  'profile.invitations.accept': 'Қабылдау',
  'profile.invitations.decline': 'Қабылдамау',
  'profile.invitations.accepted': 'Шақыру қабылданды',
  'profile.invitations.declined': 'Шақыру қабылданбады',
  'profile.invitations.error': 'Шақыруды өңдеу кезінде қате',
  'common.optional': 'міндетті емес',
  // Management page
  'nav.management': 'Басқару',
  'management.tabs.employees': 'Қызметкерлер',
  'management.tabs.sections': 'Бөлімдер',
  'management.tabs.pricing': 'Прайсинг',
  // Employees
  'management.employees.searchPlaceholder': 'Аты-жөні немесе телефон бойынша іздеу',
  'management.employees.filters': 'Сүзгілер',
  'management.employees.addStaff': 'Қосу',
  'management.employees.count': 'қызметкер',
  'management.employees.notFound': 'Қызметкерлер табылмады',
  'management.employees.role': 'Рөлі',
  'management.employees.role.owner': 'Иесі',
  'management.employees.role.admin': 'Әкімші',
  'management.employees.role.coach': 'Жаттықтырушы',
  'management.employees.allRoles': 'Барлық рөлдер',
  'management.employees.club': 'Клуб',
  'management.employees.clubs': 'Клубтар',
  'management.employees.allClubs': 'Барлық клубтар',
  'management.employees.status.active': 'Белсенді',
  'management.employees.status.pending': 'Күтуде',
  'management.employees.pendingInvitation': 'Шақыру қабылдауын күтуде',
  'management.employees.status.deactivated': 'Деактивацияланған',
  'management.employees.status.declined': 'Қабылданбаған',
  'management.employees.call': 'Қоңырау',
  'management.employees.message': 'Хабарлама',
  'management.employees.edit': 'Өзгерту',
  'management.employees.addTitle': 'Қызметкер қосу',
  'management.employees.editTitle': 'Өзгерту',
  'management.employees.firstName': 'Аты',
  'management.employees.lastName': 'Тегі',
  'management.employees.name': 'Аты',
  'management.employees.phone': 'Телефон',
  'management.employees.phonePlaceholder': 'Телефон нөмірін енгізіңіз',
  'management.employees.phoneReadOnly': 'Телефон нөмірін өзгерту мүмкін емес',
  'management.employees.add': 'Қосу',
  'management.employees.saveChanges': 'Өзгерістерді сақтау',
  'management.employees.added': 'Қызметкер қосылды',
  'management.employees.updated': 'Деректер жаңартылды',
  'management.employees.deleteInvitation': 'Шақыруды болдырмау',
  'management.employees.deleteInvitationConfirm': 'Бұл шақыруды болдырмауға сенімдісіз бе?',
  'management.employees.invitationDeleted': 'Шақыру болдырмалды',
  'management.employees.invitationDeleteError': 'Шақыруды болдырмау мүмкін болмады',
  'management.employees.pendingInvitationInfo': 'Қабылдауды күтуде',
  'management.employees.pendingInvitationHint': 'Пайдаланушы әлі шақыруды қабылдаған жоқ',
  'management.employees.nameNotAvailable': 'Аты шақыруды қабылдағаннан кейін қол жетімді болады',
  'management.employees.errors.firstNameRequired': 'Атын енгізіңіз',
  'management.employees.errors.lastNameRequired': 'Тегін енгізіңіз',
  'management.employees.errors.phoneInvalid': 'Қате телефон нөмірі',
  'management.employees.errors.phoneExists': 'Бұл нөмір тіркелген',
  'management.employees.errors.clubRequired': 'Кем дегенде бір клуб таңдаңыз',
  'management.employees.noClubsAvailable': 'Қолжетімді клубтар жоқ',
  'management.employees.multiRoleHint': 'Әртүрлі клубтарда әртүрлі рөлдер',
  'management.employees.clubsAndRoles': 'Клубтар мен рөлдер',
  'management.employees.clubsAndRolesHint': 'Клубтарды таңдап, әрқайсысына рөл тағайындаңыз',
  'management.employees.roleInThisClub': 'Осы клубтағы рөлі',
  'management.employees.ownerCannotChange': 'Иесі рөлін өзгерту мүмкін емес',
  'management.employees.alreadyHasRole': '{name} {club} клубында {role} болып табылады',
  'management.employees.thisPerson': 'Бұл адам',
  'management.employees.errors.alreadyInClub': 'Адам таңдалған клубта рөлге ие',
  'management.employees.errors.addFailed': 'Қызметкер қосу мүмкін болмады',
  'management.employees.roleLegend': 'Рөл белгішелері нені білдіреді?',
  'management.employees.roleIconsTitle': 'Қызметкерлердің рөлдері',
  'management.employees.roleDescription.owner': 'Клубқа толық қол жетімділік: секцияларды, қызметкерлерді және баптауларды басқару',
  'management.employees.roleDescription.admin': 'Секцияларды және кестені басқару, жаттықтырушыларды қосу',
  'management.employees.roleDescription.coach': 'Жаттығуларды өткізу және оқушылармен жұмыс істеу',
  // Sections part
  'management.sections.searchPlaceholder': 'Бөлім атауы бойынша іздеу',
  'management.sections.filters': 'Сүзгілер',
  'management.sections.create': 'Құру',
  'management.sections.count': 'бөлім',
  'management.sections.notFound': 'Бөлімдер табылмады',
  'management.sections.coaches': 'Жаттықтырушылар',
  'management.sections.coach': 'Жаттықтырушы',
  'management.sections.groups': 'Топтар',
  'management.sections.moreGroups': 'тағы',
  'management.sections.club': 'Клуб',
  'management.sections.allClubs': 'Барлық клубтар',
  'management.sections.allCoaches': 'Барлық жаттықтырушылар',
  'management.sections.createTitle': 'Бөлім құру',
  'management.sections.editTitle': 'Бөлімді өңдеу',
  'management.sections.name': 'Бөлім атауы',
  'management.sections.namePlaceholder': 'Мысалы: Йога',
  'management.sections.selectClub': 'Клубты таңдаңыз',
  'management.sections.noCoaches': 'Бұл клубта жаттықтырушылар жоқ',
  'management.sections.addGroup': 'Топ қосу',
  'management.sections.group': 'Топ',
  'management.sections.groupName': 'Топ атауы',
  'management.sections.level': 'Деңгей',
  'management.sections.capacity': 'Сыйымдылық',
  'management.sections.schedules': 'Кесте',
  'management.sections.addSchedule': 'Кесте қосу',
  'management.sections.singleTraining': 'Бір жаттығу',
  'management.sections.recurringTraining': 'Қайталанатын',
  'management.sections.duration': 'Ұзақтығы (мин)',
  'management.sections.endDate': 'Аяқталу күні',
  'management.sections.delete': 'Бөлімді жою',
  'management.sections.deleteTitle': 'Бөлімді жою',
  'management.sections.deleteMessage': '"{name}" бөлімін жоюды қалайсыз ба?',
  'management.sections.created': 'Бөлім құрылды',
  'management.sections.updated': 'Бөлім жаңартылды',
  'management.sections.deleted': 'Бөлім жойылды',
  'management.sections.errors.nameRequired': 'Бөлім атауын енгізіңіз',
  'management.sections.errors.clubRequired': 'Клубты таңдаңыз',
  'management.sections.errors.coachRequired': 'Кем дегенде бір жаттықтырушы таңдаңыз',
  'management.sections.sectionCreated': 'Бөлім құрылды',
  'management.sections.selectSelf': 'өзіңді таңда',
  'management.sections.noGroupsYet': 'Топтар әлі қосылмаған',
  'management.sections.price': 'Баға (₸)',
  'management.sections.schedule': 'Кесте',
  'management.sections.addTime': 'Уақыт қосу',
  'management.sections.noScheduleYet': 'Кесте берілмеген',
  'management.sections.createSection': 'Бөлім құру',
  'management.sections.groupsCreated': 'Топтар сәтті құрылды',
  'management.sections.groupNamePlaceholder': 'Топ атауы',
  'management.sections.selectLevel': 'Деңгейді таңдаңыз',
  'management.sections.selectTrainer': 'Жаттықтырушыны таңдаңыз',
  'management.sections.scheduleItem': 'Сабақ',
  'management.sections.schedulePeriod': 'Кесте кезеңі',
  'management.sections.schedulePeriodHint': 'Күнтізбеде сабақтар көрсетілетін кезеңді көрсетіңіз',
  'management.sections.validFrom': 'Басталу күні',
  'management.sections.validUntil': 'Аяқталу күні',
  'management.sections.groupsAndLessonsCreated': 'Топтар мен сабақтар сәтті құрылды',
  'management.sections.updatedWithLessons': 'Бөлім жаңартылды, сабақтар құрылды',
  'management.sections.generatingLessons': 'Сабақтар құрылуда...',
  // Pricing
  'management.pricing.count': 'тариф',
  'management.pricing.notFound': 'Тарифтер табылмады',
  'management.pricing.create': 'Тариф құру',
  'management.pricing.createTitle': 'Тариф құру',
  'management.pricing.editTitle': 'Тарифті өңдеу',
  'management.pricing.name': 'Тариф атауы',
  'management.pricing.namePlaceholder': 'Мысалы: Базалық ай',
  'management.pricing.club': 'Клуб',
  'management.pricing.selectClub': 'Клубты таңдаңыз',
  'management.pricing.section': 'Бөлім',
  'management.pricing.allSections': 'Барлық бөлімдер',
  'management.pricing.group': 'Топ',
  'management.pricing.allGroups': 'Барлық топтар',
  'management.pricing.paymentType': 'Төлем түрі',
  'management.pricing.type.monthly': 'Айлық',
  'management.pricing.type.semi_annual': 'Жарты жылдық',
  'management.pricing.type.annual': 'Жылдық',
  'management.pricing.type.per_session': 'Сабаққа',
  'management.pricing.sessionsCount': 'Сабақ саны',
  'management.pricing.validityDays': 'Жарамдылық мерзімі (күн)',
  'management.pricing.price': 'Бағасы',
  'management.pricing.sessions': 'сабақ',
  'management.pricing.days': 'күн',
  'management.pricing.update': 'Өзгерту',
  'management.pricing.deleteTitle': 'Тарифті жою',
  'management.pricing.deleteMessage': '"{name}" тарифін жоюды қалайсыз ба?',
  'management.pricing.created': 'Тариф құрылды',
  'management.pricing.updated': 'Тариф жаңартылды',
  'management.pricing.deleted': 'Тариф жойылды',
  'management.pricing.errors.nameRequired': 'Тариф атауын енгізіңіз',
  'management.pricing.errors.clubRequired': 'Клубты таңдаңыз',
  'management.pricing.errors.priceRequired': 'Бағаны енгізіңіз',
  'management.pricing.errors.sessionsRequired': 'Сабақ санын енгізіңіз',
  'management.pricing.errors.validityRequired': 'Жарамдылық мерзімін енгізіңіз',
  'management.pricing.errors.accessRequired': 'Қол жетімділікті таңдаңыз (клуб, бөлім немесе топ)',
  'management.pricing.errors.createFailed': 'Тарифті құру кезінде қате орын алды',
  'management.pricing.errors.updateFailed': 'Тарифті жаңарту кезінде қате орын алды',
  'management.pricing.errors.deleteFailed': 'Тарифті жою кезінде қате орын алды',
  'management.pricing.type.session_pack': 'Сабақтарға',
  'management.pricing.access': 'Қол жетімділік',
  'management.pricing.accessClubs': 'Клубтар',
  'management.pricing.accessSections': 'Бөлімдер',
  'management.pricing.accessGroups': 'Топтар',
  'management.pricing.notSelected': 'Таңдалмаған',
  'management.pricing.noSections': 'Бөлімдер жоқ',
  'management.pricing.active': 'Белсенді',
  'management.pricing.inactive': 'Белсенді емес',
  'management.pricing.createFirst': 'Бірінші тарифті құру',
  'management.pricing.packageType.fullClub': 'Бүкіл клуб',
  'management.pricing.packageType.fullSection': 'Бүкіл бөлім',
  'management.pricing.packageType.singleGroup': 'Бір топ',
  'management.pricing.packageType.multipleGroups': 'Бірнеше топ',
  'management.pricing.clubsCount': 'клуб',
  'management.pricing.sectionsCount': 'бөлім',
  'management.pricing.groupsCount': 'топ',
};

const dictionaries: Record<Lang, Dict> = { ru: RU, kk: KK };

type I18nContextType = {
  lang: Lang;
  setLang: (l: Lang) => void;
  t: (key: string, params?: Record<string, string | number>) => string;
};

const I18nContext = createContext<I18nContextType | undefined>(undefined);

export const I18nProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [lang, setLangState] = useState<Lang>('ru');

  useEffect(() => {
    const stored = localStorage.getItem('appLang') as Lang | null;
    if (stored === 'ru' || stored === 'kk') {
      setLangState(stored);
    } else {
      // Initialize from Telegram or browser language
      const tg = window.Telegram?.WebApp;
      const browserLang = navigator.language?.toLowerCase();
      const tgLang = (tg && tg.initDataUnsafe && (tg.initDataUnsafe as { user?: { language_code?: string } }).user?.language_code) || undefined;
      const effective = (tgLang || browserLang || 'ru').toLowerCase();
      setLangState(effective.startsWith('kk') ? 'kk' : 'ru');
    }
  }, []);

  const setLang = (l: Lang) => {
    setLangState(l);
    localStorage.setItem('appLang', l);
  };

  const t = useMemo(() => {
    return (key: string, params?: Record<string, string | number>) => {
      const dict = dictionaries[lang] || RU;
      let result = dict[key] || key;
      if (params) {
        Object.entries(params).forEach(([k, v]) => {
          result = result.replace(new RegExp(`\\{${k}\\}`, 'g'), String(v));
        });
      }
      return result;
    };
  }, [lang]);

  // Reflect current language on the <html> tag to influence native pickers (Android/Chrome) and a11y
  useEffect(() => {
    const html = document.documentElement;
    html.setAttribute('lang', lang === 'kk' ? 'kk-KZ' : 'ru-RU');
  }, [lang]);

  const value = useMemo(() => ({ lang, setLang, t }), [lang, t]);

  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>;
};

export const useI18n = () => {
  const ctx = useContext(I18nContext);
  if (!ctx) throw new Error('useI18n must be used within I18nProvider');
  return ctx;
};
